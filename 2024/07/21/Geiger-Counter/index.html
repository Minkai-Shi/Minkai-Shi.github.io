<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"livere","storage":true,"lazyload":false,"nav":null,"activeClass":"livere"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="DFRobot Geiger Counter Project: Exploring Radiation Detection with MicrocontrollersIntroduction I participated in the EEPW forum activity to explore the DFRobot Geiger Counter module (SEN0463). This h">
<meta property="og:type" content="article">
<meta property="og:title" content="Play with DFRobot Geiger Counter Module">
<meta property="og:url" content="http://example.com/2024/07/21/Geiger-Counter/index.html">
<meta property="og:site_name" content="Minkai-Shi&#39; Blog">
<meta property="og:description" content="DFRobot Geiger Counter Project: Exploring Radiation Detection with MicrocontrollersIntroduction I participated in the EEPW forum activity to explore the DFRobot Geiger Counter module (SEN0463). This h">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://forum.eepw.com.cn/forum/attachment/202406/474371B2-CA6A-419c-8D02-CD0004246035.png">
<meta property="article:published_time" content="2024-07-21T13:20:06.000Z">
<meta property="article:modified_time" content="2025-11-02T12:38:47.554Z">
<meta property="article:author" content="Minkai Shi">
<meta property="article:tag" content="EEPW &amp; EEWorld Activity">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://forum.eepw.com.cn/forum/attachment/202406/474371B2-CA6A-419c-8D02-CD0004246035.png">

<link rel="canonical" href="http://example.com/2024/07/21/Geiger-Counter/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Play with DFRobot Geiger Counter Module | Minkai-Shi' Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Minkai-Shi' Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Study</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/21/Geiger-Counter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/touxiang.jpg">
      <meta itemprop="name" content="Minkai Shi">
      <meta itemprop="description" content="Study">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Minkai-Shi' Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Play with DFRobot Geiger Counter Module
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-07-21 21:20:06" itemprop="dateCreated datePublished" datetime="2024-07-21T21:20:06+08:00">2024-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-11-02 20:38:47" itemprop="dateModified" datetime="2025-11-02T20:38:47+08:00">2025-11-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/EEPW-EEWorld-Activity/" itemprop="url" rel="index"><span itemprop="name">EEPW & EEWorld Activity</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="DFRobot-Geiger-Counter-Project-Exploring-Radiation-Detection-with-Microcontrollers"><a href="#DFRobot-Geiger-Counter-Project-Exploring-Radiation-Detection-with-Microcontrollers" class="headerlink" title="DFRobot Geiger Counter Project: Exploring Radiation Detection with Microcontrollers"></a>DFRobot Geiger Counter Project: Exploring Radiation Detection with Microcontrollers</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p> I participated in the EEPW forum activity to explore the DFRobot Geiger Counter module (SEN0463). This hands-on project allowed me to apply fundamental EEE concepts such as sensor interfacing, microcontroller programming, signal processing, and wireless communication. By building and iterating on this radiation detection system using an ESP32 board, I gained practical experience in hardware-software integration, debugging, and data visualization—skills essential for studies and careers in fields like embedded systems, IoT, and nuclear engineering.</p>
<p>The project progressed from basic unboxing and theoretical background to advanced implementations with MicroPython, WiFi, and Bluetooth. Challenges like optimizing interrupt handling and ensuring accurate radiation conversions deepened my understanding of digital electronics and real-time systems. This portfolio demonstrates my initiative, problem-solving abilities, and passion for EEE, making it a strong addition to applications for programs in the UK, Hong Kong, Australia, and Canada.</p>
<p>Original forum activity: <a target="_blank" rel="noopener" href="https://forum.eepw.com.cn/thread/379334/1">EEPW Thread</a></p>
<h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul>
<li><a href="#unboxing-experience">Unboxing Experience</a></li>
<li><a href="#history-of-geiger-counters">History of Geiger Counters</a></li>
<li><a href="#connecting-to-esp32-and-debugging">Connecting to ESP32 and Debugging</a></li>
<li><a href="#measuring-data">Measuring Data</a></li>
<li><a href="#micropython-implementation">MicroPython Implementation</a></li>
<li><a href="#measuring-radiation-and-displaying-via-wifi">Measuring Radiation and Displaying via WiFi</a></li>
<li><a href="#micropython-with-bluetooth-connection">MicroPython with Bluetooth Connection</a></li>
<li><a href="#conclusion-and-reflections">Conclusion and Reflections</a></li>
</ul>
<h2 id="Unboxing-Experience"><a href="#Unboxing-Experience" class="headerlink" title="Unboxing Experience"></a>Unboxing Experience</h2><p>From forum post: <a target="_blank" rel="noopener" href="https://forum.eepw.com.cn/thread/381883/1">DFRobot盖革计数器模块评测-开箱体验</a></p>
<p>I discovered the “Playing with DFRobot Geiger Counter Module” activity on the EEPW forum and decided to purchase one for a DIY project. Ordered from DFRobot’s official Taobao store for 389 yuan (after discount: 385.54 yuan), it arrived the next day.</p>
<p>The package was a black box labeled SEN0463, Gravity Geiger Counter Module, Made in China. Inside an anti-static bag were the module and a matching three-wire cable (5V+, 5V-, digital interface). The Geiger tube model is M4011, with an operating voltage of 350-450V.</p>
<p>The back features the DFRobot interface with “DRIVE THE FUTURE.” The Arduino module’s 5V+&#x2F;-&#x2F;digital pins aren’t adjacent, so the cable required adaptation. I temporarily split it and connected to an ESP32 board: power to 5V&#x2F;GND, digital to pin 3 (official Arduino example uses D3).</p>
<p>Powered on: ACK LED flashes occasionally, buzzer beeps. Measured tube voltage ~210V with FNIRST oscilloscope&#x2F;multimeter (below nominal 400V, possibly due to wiring).</p>
<p> This initial step introduced me to hardware inspection and basic electrical measurements, reinforcing circuit analysis skills. Identifying voltage discrepancies highlighted the importance of precise connections in sensor systems, a core aspect of EEE lab work.</p>
<h2 id="History-of-Geiger-Counters"><a href="#History-of-Geiger-Counters" class="headerlink" title="History of Geiger Counters"></a>History of Geiger Counters</h2><p>From forum post: <a target="_blank" rel="noopener" href="https://forum.eepw.com.cn/thread/382148/1">基础知识：盖革（G-M）计数器的起源与发展</a></p>
<p>The G-M counter is a radiation detector invented in 1928 by German physicists Hans Geiger and Walter Müller. It operates on ionizing radiation principles: radiation ionizes gas atoms in the tube, producing free electrons and ion pairs that move under an electric field, creating a measurable current proportional to radiation intensity and energy. Used for measuring radiation, detecting sources, and studying cosmic rays.</p>
<p>The design improved spark counters by using a metal tube with a central wire anode for stable, sensitive detection. Innovations separated discharge timing and space.</p>
<p>Over time, improvements included gas mixtures, tube materials&#x2F;shapes, and electronics for broader applications.</p>
<p>Development stages:  </p>
<ol>
<li><strong>Invention (1928)</strong>: Metal tube with anode wire.  </li>
<li><strong>Improvements (1930s-1940s)</strong>: Gas optimization, materials, electronics.  </li>
<li><strong>Applications (1950s-1960s)</strong>: Nuclear tech, safety.  </li>
<li><strong>Further Development (1970s-Present)</strong>: New gases, digital electronics; used in PET&#x2F;CT scanners.</li>
</ol>
<p>Keywords: Geiger, counter, module, basic knowledge.</p>
<p> Researching this history built my foundational knowledge in radiation physics and detector electronics, aligning with EEE courses on semiconductors and signal processing. It inspired me to explore how analog circuits amplify weak signals, a key EEE topic.</p>
<h2 id="Connecting-to-ESP32-and-Debugging"><a href="#Connecting-to-ESP32-and-Debugging" class="headerlink" title="Connecting to ESP32 and Debugging"></a>Connecting to ESP32 and Debugging</h2><p>From forum post: <a target="_blank" rel="noopener" href="https://forum.eepw.com.cn/thread/382356/1">连接ESP32模块调试</a></p>
<p>After receiving the module, I purchased adapter pins for ESP32 connection. Official Arduino code uses D3, but ESP32’s pin 3 shares with Rx—switched to pin 14.</p>
<p><strong>Wiring:</strong>  </p>
<ul>
<li>DFRobot Geiger: D → ESP32 14, + → 5V, - → GND</li>
</ul>
<p>Imported library, compiled, uploaded. Serial outputs: CPM, nSv&#x2F;h, μSv&#x2F;h (nSv&#x2F;h × 0.001 &#x3D; μSv&#x2F;h). Local radiation ~0.05 μSv&#x2F;h.</p>
<p>Added OLED for readability.</p>
<p><strong>OLED (I2C) Wiring:</strong>  </p>
<ul>
<li>GND → GND, VCC → 5V, SCL → 18, SDA → 23</li>
</ul>
<p><strong>Source Code:</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;DFRobot_Geiger.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;public.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Wire.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;SSD1306Wire.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> detect_pin 14</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SDA 23</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SCL 18</span></span><br><span class="line"></span><br><span class="line"><span class="function">SSD1306Wire <span class="title">display</span><span class="params">(<span class="number">0x3c</span>, SDA, SCL)</span></span>;</span><br><span class="line"><span class="function">DFRobot_Geiger <span class="title">geiger</span><span class="params">(detect_pin)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">()</span></span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  geiger.<span class="built_in">start</span>();</span><br><span class="line">  display.<span class="built_in">init</span>();</span><br><span class="line">  display.<span class="built_in">flipScreenVertically</span>();</span><br><span class="line">  display.<span class="built_in">setFont</span>(ArialMT_Plain_24);</span><br><span class="line">  display.<span class="built_in">drawString</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="string">&quot;Geiger Counter&quot;</span>);</span><br><span class="line">  display.<span class="built_in">display</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loop</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="type">char</span> s[<span class="number">5</span>];</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  Serial.<span class="built_in">println</span>(geiger.<span class="built_in">getCPM</span>());</span><br><span class="line">  Serial.<span class="built_in">println</span>(geiger.<span class="built_in">getnSvh</span>());</span><br><span class="line">  Serial.<span class="built_in">println</span>(geiger.<span class="built_in">getuSvh</span>());</span><br><span class="line"></span><br><span class="line">  display.<span class="built_in">clear</span>();</span><br><span class="line">  display.<span class="built_in">setFont</span>(ArialMT_Plain_10);</span><br><span class="line">  display.<span class="built_in">setTextAlignment</span>(TEXT_ALIGN_CENTER);</span><br><span class="line">  display.<span class="built_in">drawString</span>(<span class="number">64</span>, <span class="number">0</span>, <span class="built_in">String</span>(<span class="string">&quot;Geiger Counter&quot;</span>));</span><br><span class="line">  display.<span class="built_in">drawString</span>(<span class="number">32</span>, <span class="number">10</span>, <span class="built_in">String</span>(geiger.<span class="built_in">getCPM</span>()));</span><br><span class="line">  display.<span class="built_in">drawString</span>(<span class="number">64</span>, <span class="number">10</span>, <span class="built_in">String</span>(<span class="string">&quot;CPM&quot;</span>));</span><br><span class="line">  display.<span class="built_in">drawString</span>(<span class="number">32</span>, <span class="number">20</span>, <span class="built_in">String</span>(geiger.<span class="built_in">getnSvh</span>()));</span><br><span class="line">  display.<span class="built_in">drawString</span>(<span class="number">64</span>, <span class="number">20</span>, <span class="built_in">String</span>(<span class="string">&quot;nSv/h&quot;</span>));  </span><br><span class="line">  <span class="built_in">dtostrf</span>(geiger.<span class="built_in">getuSvh</span>(),<span class="number">1</span>,<span class="number">2</span>,s);</span><br><span class="line">  display.<span class="built_in">drawString</span>(<span class="number">32</span>, <span class="number">30</span>, s);</span><br><span class="line">  display.<span class="built_in">drawString</span>(<span class="number">64</span>, <span class="number">30</span>, <span class="built_in">String</span>(<span class="string">&quot;uSv/h&quot;</span>));</span><br><span class="line"></span><br><span class="line">  display.<span class="built_in">display</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://forum.eepw.com.cn/forum/attachment/202406/474371B2-CA6A-419c-8D02-CD0004246035.png" alt="OLED Display Effect"></p>
<p> Interfacing the sensor with ESP32 taught me about interrupts and I2C communication. Debugging pin conflicts and voltage issues honed my troubleshooting skills, preparing me for complex circuit design projects.</p>
<h2 id="Measuring-Data"><a href="#Measuring-Data" class="headerlink" title="Measuring Data"></a>Measuring Data</h2><p>From forum post: <a target="_blank" rel="noopener" href="https://forum.eepw.com.cn/thread/382524/1">用DFRobot盖革计数器模块测量数据</a></p>
<p>Adjusted OLED font to ArialMT_Plain_16 for visibility, showing title + CPM and μSv&#x2F;h (nSv&#x2F;h omitted). Used <code>dtostrf</code> for μSv&#x2F;h float-to-string conversion (1 digit before decimal, 3 after).</p>
<p><strong>Code Snippet:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dtostrf(geiger.getuSvh(),<span class="number">1</span>,<span class="number">3</span>,s);</span><br><span class="line">display.drawString(<span class="number">32</span>, <span class="number">40</span>, s );</span><br></pre></td></tr></table></figure>

<p>Uploaded to ESP32 flash, powered by power bank for portability. Measured marble&#x2F;wood floors: near background levels.</p>
<p>Tested with ionic smoke detector (Am-241 source): ~0.232 μSv&#x2F;h close—safe (nuclear workers: 100mSv&#x2F;5yr ≈ 0.57 μSv&#x2F;h).</p>
<p>Reference: <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/463435752">Ionic smoke sensor with Am-241</a></p>
<p> Handling floating-point conversions and portable power systems mirrored challenges in sensor networks, enhancing my interest in signal conditioning and low-power design.</p>
<h2 id="MicroPython-Implementation"><a href="#MicroPython-Implementation" class="headerlink" title="MicroPython Implementation"></a>MicroPython Implementation</h2><p>From forum post: <a target="_blank" rel="noopener" href="https://forum.eepw.com.cn/thread/382696/1">MicroPython实现DFrobot盖革计数器功能</a></p>
<p>Rewrote Arduino code in MicroPython: interrupts for counting, buffer 20 samples (1 min) for stable CPM. Converts to μSv&#x2F;h (CPM &#x2F; 151). Wiring same as before.</p>
<p><strong>Code:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">DFrobot 盖革计数器实验</span></span><br><span class="line"><span class="string">接线说明：DFrobot Geiger模块--&gt;ESP32 IO</span></span><br><span class="line"><span class="string">         (D)--&gt;(14)</span></span><br><span class="line"><span class="string">         (+)--&gt;(5V)</span></span><br><span class="line"><span class="string">         (-)--&gt;(GND)</span></span><br><span class="line"><span class="string">         </span></span><br><span class="line"><span class="string">OLED(IIC)液晶模块--&gt;ESP32 IO</span></span><br><span class="line"><span class="string">         GND--&gt;(GND)</span></span><br><span class="line"><span class="string">         VCC--&gt;(5V)</span></span><br><span class="line"><span class="string">         SCL--&gt;(18)</span></span><br><span class="line"><span class="string">         SDA--&gt;(23)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#导入Pin模块</span></span><br><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> Pin</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> SoftI2C</span><br><span class="line"><span class="keyword">from</span> ssd1306 <span class="keyword">import</span> SSD1306_I2C  <span class="comment">#I2C的oled选该方法</span></span><br><span class="line"><span class="comment">#创建软件I2C对象</span></span><br><span class="line">i2c = SoftI2C(sda=Pin(<span class="number">23</span>), scl=Pin(<span class="number">18</span>))</span><br><span class="line"><span class="comment">#创建OLED对象，OLED分辨率、I2C接口</span></span><br><span class="line">oled = SSD1306_I2C(<span class="number">128</span>, <span class="number">64</span>, i2c) </span><br><span class="line"><span class="comment">#Geiger in</span></span><br><span class="line">Geiger_In=Pin(<span class="number">14</span>,Pin.IN,Pin.PULL_UP)</span><br><span class="line"><span class="comment">#Geiger计数器外部中断函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Geiger_In_irq</span>(<span class="params">Geiger_In</span>):</span><br><span class="line">    <span class="keyword">global</span> numPulse</span><br><span class="line">    numPulse = numPulse + <span class="number">1</span> </span><br><span class="line"><span class="comment">#程序入口</span></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">global</span> numPulse</span><br><span class="line">    BUFFER_SIZE = <span class="number">20</span></span><br><span class="line">    rows, cols = <span class="number">2</span>, BUFFER_SIZE</span><br><span class="line">    mem_data = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line">    numPulse = <span class="number">0</span></span><br><span class="line">    pos = <span class="number">0</span>    </span><br><span class="line">    oled.fill(<span class="number">0</span>)  <span class="comment">#清空屏幕    </span></span><br><span class="line">    oled.text(<span class="string">&quot;Geiger Counter&quot;</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>)  <span class="comment">#显示字符串</span></span><br><span class="line">    oled.show()  <span class="comment">#执行显示    </span></span><br><span class="line">    Geiger_In.irq(Geiger_In_irq,Pin.IRQ_FALLING)  <span class="comment">#配置外部中断，下降沿触发</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:  </span><br><span class="line">        time.sleep_ms(<span class="number">3000</span>)</span><br><span class="line">        mem_data[<span class="number">0</span>][pos] = time.ticks_ms()</span><br><span class="line">        mem_data[<span class="number">1</span>][pos] = numPulse</span><br><span class="line">        numPulse = <span class="number">0</span></span><br><span class="line">        cpm=<span class="number">0</span></span><br><span class="line">        pos_old = pos</span><br><span class="line">        pos = (pos+<span class="number">1</span>)%BUFFER_SIZE        </span><br><span class="line">        numAll = <span class="number">0</span></span><br><span class="line">        time_now = mem_data[<span class="number">0</span>][pos_old] </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, BUFFER_SIZE - <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> mem_data[<span class="number">0</span>][pos_old] != <span class="number">0</span>:</span><br><span class="line">                numAll = numAll + mem_data[<span class="number">1</span>][pos_old]</span><br><span class="line">                time_old = mem_data[<span class="number">0</span>][pos_old]</span><br><span class="line">                <span class="keyword">if</span> pos_old == <span class="number">0</span>:</span><br><span class="line">                    pos_old =  BUFFER_SIZE - <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    pos_old = pos_old - <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> time_now-time_old &gt; <span class="number">0</span>:</span><br><span class="line">            cpm = numAll*<span class="number">1000</span>*<span class="number">60</span>/(time_now-time_old)</span><br><span class="line">            </span><br><span class="line">        str1 = <span class="string">&quot;&#123;:.0f&#125;&quot;</span>.<span class="built_in">format</span>(cpm)    <span class="comment">#CPM转字符串</span></span><br><span class="line">        str2 = <span class="string">&quot;&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(cpm/<span class="number">151</span>)<span class="comment">#uSv/h转字符串</span></span><br><span class="line">        oled.fill(<span class="number">0</span>)  <span class="comment">#清空屏幕</span></span><br><span class="line">        oled.text(<span class="string">&quot;Geiger Counter&quot;</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>)  <span class="comment">#显示字符串</span></span><br><span class="line">        oled.text(<span class="string">&quot;CPM&quot;</span>,<span class="number">80</span>,<span class="number">10</span>,<span class="number">2</span>)  <span class="comment">#显示CPM单位</span></span><br><span class="line">        oled.text(<span class="string">&quot;uSv/h&quot;</span>,<span class="number">80</span>,<span class="number">20</span>,<span class="number">2</span>)  <span class="comment">#显示uSv/h单位</span></span><br><span class="line">        oled.text(str1,<span class="number">0</span>,<span class="number">10</span>,<span class="number">2</span>)  <span class="comment">#显示CPM数据</span></span><br><span class="line">        oled.text(str2,<span class="number">0</span>,<span class="number">20</span>,<span class="number">2</span>)  <span class="comment">#显示uSv/h数据</span></span><br><span class="line">        oled.show()  <span class="comment">#执行显示</span></span><br></pre></td></tr></table></figure>

<p> Porting to MicroPython improved my programming versatility,  Python is used in automation and data analysis. Buffering data for accuracy taught me about noise reduction in signals, relevant to control systems and DSP courses.</p>
<h2 id="Measuring-Radiation-and-Displaying-via-WiFi"><a href="#Measuring-Radiation-and-Displaying-via-WiFi" class="headerlink" title="Measuring Radiation and Displaying via WiFi"></a>Measuring Radiation and Displaying via WiFi</h2><p>From forum post: <a target="_blank" rel="noopener" href="https://forum.eepw.com.cn/thread/382714/1">DFrobot模块测量辐射值并通过wifi显示</a></p>
<p>Added WiFi to display data on a web page. Connect to the same network, access ESP32 IP in browser for CPM&#x2F;μSv&#x2F;h.</p>
<p><strong>Code:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">DFrobot 盖革计数器实验</span></span><br><span class="line"><span class="string">接线说明：DFrobot Geiger模块--&gt;ESP32 IO</span></span><br><span class="line"><span class="string">         (D)--&gt;(14)</span></span><br><span class="line"><span class="string">         (+)--&gt;(5V)</span></span><br><span class="line"><span class="string">         (-)--&gt;(GND)</span></span><br><span class="line"><span class="string">         </span></span><br><span class="line"><span class="string">OLED(IIC)液晶模块--&gt;ESP32 IO</span></span><br><span class="line"><span class="string">         GND--&gt;(GND)</span></span><br><span class="line"><span class="string">         VCC--&gt;(5V)</span></span><br><span class="line"><span class="string">         SCL--&gt;(18)</span></span><br><span class="line"><span class="string">         SDA--&gt;(23)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#导入Pin模块</span></span><br><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> Pin</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> SoftI2C</span><br><span class="line"><span class="keyword">from</span> ssd1306 <span class="keyword">import</span> SSD1306_I2C  <span class="comment">#I2C的oled选该方法</span></span><br><span class="line"><span class="keyword">import</span> network</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="comment">#连接的WIFI账号和密码，此处需要按照实际填写</span></span><br><span class="line">ssid = <span class="string">&quot;wifi&quot;</span></span><br><span class="line">password = <span class="string">&quot;******&quot;</span></span><br><span class="line"><span class="comment">#创建软件I2C对象</span></span><br><span class="line">i2c = SoftI2C(sda=Pin(<span class="number">23</span>), scl=Pin(<span class="number">18</span>))</span><br><span class="line"><span class="comment">#创建OLED对象，OLED分辨率、I2C接口</span></span><br><span class="line">oled = SSD1306_I2C(<span class="number">128</span>, <span class="number">64</span>, i2c) </span><br><span class="line"><span class="comment">#Geiger in</span></span><br><span class="line">Geiger_In=Pin(<span class="number">14</span>,Pin.IN,Pin.PULL_UP)</span><br><span class="line"><span class="comment">#定义LED控制对象</span></span><br><span class="line">led1=Pin(<span class="number">15</span>,Pin.OUT,Pin.PULL_DOWN)</span><br><span class="line"><span class="comment">#WIFI连接</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">wifi_connect</span>():</span><br><span class="line">    wlan=network.WLAN(network.STA_IF)  <span class="comment">#STA模式</span></span><br><span class="line">    wlan.active(<span class="literal">True</span>)  <span class="comment">#激活</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> wlan.isconnected():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;conneting to network...&quot;</span>)</span><br><span class="line">        wlan.connect(ssid,password)  <span class="comment">#输入 WIFI 账号密码</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> wlan.isconnected():</span><br><span class="line">            led1.value(<span class="number">1</span>)</span><br><span class="line">            time.sleep_ms(<span class="number">300</span>)</span><br><span class="line">            led1.value(<span class="number">0</span>)</span><br><span class="line">            time.sleep_ms(<span class="number">300</span>)</span><br><span class="line">        led1.value(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        led1.value(<span class="number">0</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;network information:&quot;</span>, wlan.ifconfig())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="comment">#网页数据</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">web_page</span>():</span><br><span class="line">  html = <span class="string">&quot;&quot;&quot;&lt;!DOCTYPE HTML&gt;&lt;html&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;</span></span><br><span class="line"><span class="string">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</span></span><br><span class="line"><span class="string">  &lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.7.2/css/all.css&quot; integrity=&quot;sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr&quot; crossorigin=&quot;anonymous&quot;&gt;</span></span><br><span class="line"><span class="string">  &lt;style&gt;</span></span><br><span class="line"><span class="string">    html &#123;</span></span><br><span class="line"><span class="string">     font-family: Arial;</span></span><br><span class="line"><span class="string">     display: inline-block;</span></span><br><span class="line"><span class="string">     margin: 0px auto;</span></span><br><span class="line"><span class="string">     text-align: center;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    h2 &#123; font-size: 3.0rem; &#125;</span></span><br><span class="line"><span class="string">    p &#123; font-size: 3.0rem; &#125;</span></span><br><span class="line"><span class="string">    .units &#123; font-size: 1.2rem; &#125;</span></span><br><span class="line"><span class="string">    .dht-labels&#123;</span></span><br><span class="line"><span class="string">      font-size: 1.5rem;</span></span><br><span class="line"><span class="string">      vertical-align:middle;</span></span><br><span class="line"><span class="string">      padding-bottom: 15px;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &lt;/style&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">  &lt;h2&gt;DFRobot Geiger Counter&lt;/h2&gt;</span></span><br><span class="line"><span class="string">  &lt;p&gt;</span></span><br><span class="line"><span class="string">    &lt;i class=&quot;fas fa-thermometer-half&quot; style=&quot;color:#059e8a;&quot;&gt;&lt;/i&gt; </span></span><br><span class="line"><span class="string">    &lt;span class=&quot;dht-labels&quot;&gt;cpm&lt;/span&gt; </span></span><br><span class="line"><span class="string">    &lt;span&gt;&quot;&quot;&quot;</span>+<span class="built_in">str</span>(cpm)+<span class="string">&quot;&quot;&quot;&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;sup class=&quot;units&quot;&gt;CPM&lt;/sup&gt;</span></span><br><span class="line"><span class="string">  &lt;/p&gt;</span></span><br><span class="line"><span class="string">  &lt;p&gt;</span></span><br><span class="line"><span class="string">    &lt;i class=&quot;fas fa-tint&quot; style=&quot;color:#00add6;&quot;&gt;&lt;/i&gt; </span></span><br><span class="line"><span class="string">    &lt;span class=&quot;dht-labels&quot;&gt;uSvh&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;span&gt;&quot;&quot;&quot;</span>+<span class="built_in">str</span>(uSvh)+<span class="string">&quot;&quot;&quot;&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;sup class=&quot;uSv/h&quot;&gt;uSv/h&lt;/sup&gt;</span></span><br><span class="line"><span class="string">  &lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;&quot;&quot;&quot;</span></span><br><span class="line">  <span class="keyword">return</span> html</span><br><span class="line"><span class="comment">#Geiger计数器外部中断函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Geiger_In_irq</span>(<span class="params">Geiger_In</span>):</span><br><span class="line">    <span class="keyword">global</span> numPulse</span><br><span class="line">    numPulse = numPulse + <span class="number">1</span> </span><br><span class="line"><span class="comment">#程序入口</span></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">global</span> numPulse</span><br><span class="line">    BUFFER_SIZE = <span class="number">20</span></span><br><span class="line">    rows, cols = <span class="number">2</span>, BUFFER_SIZE</span><br><span class="line">    mem_data = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line">    numPulse = <span class="number">0</span></span><br><span class="line">    pos = <span class="number">0</span>    </span><br><span class="line">    oled.fill(<span class="number">0</span>)  <span class="comment">#清空屏幕    </span></span><br><span class="line">    oled.text(<span class="string">&quot;Geiger Counter&quot;</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>)  <span class="comment">#显示字符串</span></span><br><span class="line">    oled.show()  <span class="comment">#执行显示</span></span><br><span class="line">    <span class="keyword">if</span> wifi_connect():</span><br><span class="line">    <span class="comment">#SOCK_STREAM表示的是TCP协议，SOCK_DGRAM表示的是UDP协议</span></span><br><span class="line">        my_socket=socket.socket(socket.AF_INET, socket.SOCK_STREAM)  <span class="comment">#创建socket连接</span></span><br><span class="line">    <span class="comment"># 将socket对象绑定ip地址和端口号</span></span><br><span class="line">        my_socket.bind((<span class="string">&#x27;&#x27;</span>, <span class="number">80</span>))</span><br><span class="line">    <span class="comment"># 相当于电话的开机 括号里的参数表示可以同时接收5个请求</span></span><br><span class="line">        my_socket.listen(<span class="number">5</span>)    </span><br><span class="line">    </span><br><span class="line">        Geiger_In.irq(Geiger_In_irq,Pin.IRQ_FALLING)  <span class="comment">#配置外部中断，下降沿触发</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:  </span><br><span class="line">        time.sleep_ms(<span class="number">3000</span>)</span><br><span class="line">        mem_data[<span class="number">0</span>][pos] = time.ticks_ms()</span><br><span class="line">        mem_data[<span class="number">1</span>][pos] = numPulse</span><br><span class="line">        numPulse = <span class="number">0</span></span><br><span class="line">        cpm=<span class="number">0</span></span><br><span class="line">        pos_old = pos</span><br><span class="line">        pos = (pos+<span class="number">1</span>)%BUFFER_SIZE        </span><br><span class="line">        numAll = <span class="number">0</span></span><br><span class="line">        uSvh = <span class="number">0</span></span><br><span class="line">        time_now = mem_data[<span class="number">0</span>][pos_old] </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, BUFFER_SIZE - <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> mem_data[<span class="number">0</span>][pos_old] != <span class="number">0</span>:</span><br><span class="line">                numAll = numAll + mem_data[<span class="number">1</span>][pos_old]</span><br><span class="line">                time_old = mem_data[<span class="number">0</span>][pos_old]</span><br><span class="line">                <span class="keyword">if</span> pos_old == <span class="number">0</span>:</span><br><span class="line">                    pos_old =  BUFFER_SIZE - <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    pos_old = pos_old - <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> time_now-time_old &gt; <span class="number">0</span>:</span><br><span class="line">            cpm = numAll*<span class="number">1000</span>*<span class="number">60</span>/(time_now-time_old)</span><br><span class="line">            uSvh = cpm/<span class="number">151</span></span><br><span class="line">            </span><br><span class="line">        str1 = <span class="string">&quot;&#123;:.0f&#125;&quot;</span>.<span class="built_in">format</span>(cpm)    <span class="comment">#CPM转字符串</span></span><br><span class="line">        str2 = <span class="string">&quot;&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(uSvh)   <span class="comment">#uSv/h转字符串</span></span><br><span class="line">        oled.fill(<span class="number">0</span>)  <span class="comment">#清空屏幕</span></span><br><span class="line">        oled.text(<span class="string">&quot;Geiger Counter&quot;</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>)  <span class="comment">#显示字符串</span></span><br><span class="line">        oled.text(<span class="string">&quot;CPM&quot;</span>,<span class="number">80</span>,<span class="number">10</span>,<span class="number">2</span>)  <span class="comment">#显示CPM单位</span></span><br><span class="line">        oled.text(<span class="string">&quot;uSv/h&quot;</span>,<span class="number">80</span>,<span class="number">20</span>,<span class="number">2</span>)  <span class="comment">#显示uSv/h单位</span></span><br><span class="line">        oled.text(str1,<span class="number">0</span>,<span class="number">10</span>,<span class="number">2</span>)  <span class="comment">#显示CPM数据</span></span><br><span class="line">        oled.text(str2,<span class="number">0</span>,<span class="number">20</span>,<span class="number">2</span>)  <span class="comment">#显示uSv/h数据</span></span><br><span class="line">        oled.show()  <span class="comment">#执行显示</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;uSvh=&#x27;</span>,uSvh)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">                <span class="comment"># 进入监听状态，等待别人链接过来，有两个返回值，</span></span><br><span class="line">                <span class="comment">#一个是对方的socket对象，一个是对方的ip以及端口</span></span><br><span class="line">                client, addr = my_socket.accept()</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;Got a connection from %s&#x27;</span> % <span class="built_in">str</span>(addr))</span><br><span class="line">                <span class="comment"># recv表示接收，括号里是最大接收字节</span></span><br><span class="line">                request = client.recv(<span class="number">1024</span>)</span><br><span class="line">                request = <span class="built_in">str</span>(request)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;Content = %s&#x27;</span> % request)</span><br><span class="line">                <span class="comment">#sensor_readings = read_sensor()</span></span><br><span class="line">                <span class="comment">#print(sensor_readings)</span></span><br><span class="line">                response = web_page()</span><br><span class="line">                client.send(<span class="string">&#x27;HTTP/1.1 200 OK\n&#x27;</span>)</span><br><span class="line">                client.send(<span class="string">&#x27;Content-Type: text/html\n&#x27;</span>)</span><br><span class="line">                client.send(<span class="string">&#x27;Connection: close\n\n&#x27;</span>)</span><br><span class="line">                client.sendall(response)</span><br><span class="line">                client.close()</span><br><span class="line">        <span class="keyword">except</span> OSError <span class="keyword">as</span> e:</span><br><span class="line">                conn.close()</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;Connection closed&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>Run: Upload to ESP32, check IP via serial, access in browser. Refresh for updates.</p>
<p> Implementing WiFi networking introduced me to socket programming and IoT protocols. This extension demonstrated how sensors can integrate into connected systems, fueling my enthusiasm for wireless communications and embedded networking courses.</p>
<h2 id="MicroPython-with-Bluetooth-Connection"><a href="#MicroPython-with-Bluetooth-Connection" class="headerlink" title="MicroPython with Bluetooth Connection"></a>MicroPython with Bluetooth Connection</h2><p>From forum post: <a target="_blank" rel="noopener" href="https://forum.eepw.com.cn/thread/382734/1">MicroPython实现DFRobot盖革模块与蓝牙连接</a></p>
<p>Integrated Bluetooth for phone connection. Use BLE app to connect to “Geiger_Counter” and receive real-time data.</p>
<p><strong>Code:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">DFrobot 盖革计数器实验</span></span><br><span class="line"><span class="string">接线说明：DFrobot Geiger模块--&gt;ESP32 IO</span></span><br><span class="line"><span class="string">         (D)--&gt;(14)</span></span><br><span class="line"><span class="string">         (+)--&gt;(5V)</span></span><br><span class="line"><span class="string">         (-)--&gt;(GND)</span></span><br><span class="line"><span class="string">         </span></span><br><span class="line"><span class="string">OLED(IIC)液晶模块--&gt;ESP32 IO</span></span><br><span class="line"><span class="string">         GND--&gt;(GND)</span></span><br><span class="line"><span class="string">         VCC--&gt;(5V)</span></span><br><span class="line"><span class="string">         SCL--&gt;(18)</span></span><br><span class="line"><span class="string">         SDA--&gt;(23)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#导入Pin模块</span></span><br><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> Pin</span><br><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> Timer</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> machine <span class="keyword">import</span> SoftI2C</span><br><span class="line"><span class="keyword">from</span> ssd1306 <span class="keyword">import</span> SSD1306_I2C  <span class="comment">#I2C的oled选该方法</span></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep_ms</span><br><span class="line"><span class="keyword">import</span> bluetooth</span><br><span class="line">BLE_MSG = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment">#创建软件I2C对象</span></span><br><span class="line">i2c = SoftI2C(sda=Pin(<span class="number">23</span>), scl=Pin(<span class="number">18</span>))</span><br><span class="line"><span class="comment">#创建OLED对象，OLED分辨率、I2C接口</span></span><br><span class="line">oled = SSD1306_I2C(<span class="number">128</span>, <span class="number">64</span>, i2c) </span><br><span class="line"><span class="comment">#Geiger in</span></span><br><span class="line">Geiger_In=Pin(<span class="number">14</span>,Pin.IN,Pin.PULL_UP)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ESP32_BLE</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.led = Pin(<span class="number">15</span>, Pin.OUT)</span><br><span class="line">        self.timer1 = Timer(<span class="number">0</span>)</span><br><span class="line">        self.name = name</span><br><span class="line">        self.ble = bluetooth.BLE()</span><br><span class="line">        self.ble.active(<span class="literal">True</span>)</span><br><span class="line">        self.ble.config(gap_name=name)</span><br><span class="line">        self.disconnected()</span><br><span class="line">        self.ble.irq(self.ble_irq)</span><br><span class="line">        self.register()</span><br><span class="line">        self.ble.gatts_write(self.rx, <span class="built_in">bytes</span>(<span class="number">100</span>))  <span class="comment">#修改一次最大接收字节数100</span></span><br><span class="line">        self.advertiser()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">connected</span>(<span class="params">self</span>):</span><br><span class="line">        self.led.value(<span class="number">1</span>)</span><br><span class="line">        self.timer1.deinit()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">disconnected</span>(<span class="params">self</span>):        </span><br><span class="line">        self.timer1.init(period=<span class="number">100</span>, mode=Timer.PERIODIC, callback=<span class="keyword">lambda</span> t: self.led.value(<span class="keyword">not</span> self.led.value()))</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">ble_irq</span>(<span class="params">self, event, data</span>):</span><br><span class="line">        <span class="keyword">global</span> BLE_MSG</span><br><span class="line">        <span class="keyword">if</span> event == <span class="number">1</span>:  <span class="comment">#_IRQ_CENTRAL_CONNECT 手机链接了此设备</span></span><br><span class="line">            self.connected()</span><br><span class="line">        <span class="keyword">elif</span> event == <span class="number">2</span>:  <span class="comment">#_IRQ_CENTRAL_DISCONNECT 手机断开此设备</span></span><br><span class="line">            self.advertiser()</span><br><span class="line">            self.disconnected()</span><br><span class="line">        <span class="keyword">elif</span> event == <span class="number">3</span>:  <span class="comment">#_IRQ_GATTS_WRITE 手机发送了数据 </span></span><br><span class="line">            buffer = self.ble.gatts_read(self.rx)</span><br><span class="line">            BLE_MSG = buffer.decode(<span class="string">&#x27;UTF-8&#x27;</span>).strip()</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">self</span>):        </span><br><span class="line">        service_uuid = <span class="string">&#x27;6E400001-B5A3-F393-E0A9-E50E24DCCA9E&#x27;</span></span><br><span class="line">        reader_uuid = <span class="string">&#x27;6E400002-B5A3-F393-E0A9-E50E24DCCA9E&#x27;</span></span><br><span class="line">        sender_uuid = <span class="string">&#x27;6E400003-B5A3-F393-E0A9-E50E24DCCA9E&#x27;</span></span><br><span class="line">        services = (</span><br><span class="line">            (</span><br><span class="line">                bluetooth.UUID(service_uuid), </span><br><span class="line">                (</span><br><span class="line">                    (bluetooth.UUID(sender_uuid), bluetooth.FLAG_NOTIFY), </span><br><span class="line">                    (bluetooth.UUID(reader_uuid), bluetooth.FLAG_WRITE),</span><br><span class="line">                )</span><br><span class="line">            ), </span><br><span class="line">        )</span><br><span class="line">        ((self.tx, self.rx,), ) = self.ble.gatts_register_services(services)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">send</span>(<span class="params">self, data</span>):</span><br><span class="line">        self.ble.gatts_notify(<span class="number">0</span>, self.tx, data + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">advertiser</span>(<span class="params">self</span>):</span><br><span class="line">        name = <span class="built_in">bytes</span>(self.name, <span class="string">&#x27;UTF-8&#x27;</span>)</span><br><span class="line">        adv_data = <span class="built_in">bytearray</span>(<span class="string">&#x27;\x02\x01\x02&#x27;</span>, <span class="string">&#x27;UTF-8&#x27;</span>) + <span class="built_in">bytearray</span>((<span class="built_in">len</span>(name) + <span class="number">1</span>, <span class="number">0x09</span>)) + name</span><br><span class="line">        self.ble.gap_advertise(<span class="number">100</span>, adv_data)</span><br><span class="line">        <span class="built_in">print</span>(adv_data)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Geiger计数器外部中断函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Geiger_In_irq</span>(<span class="params">Geiger_In</span>):</span><br><span class="line">    <span class="keyword">global</span> numPulse</span><br><span class="line">    numPulse = numPulse + <span class="number">1</span></span><br><span class="line">    ble.send(str3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#程序入口</span></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">global</span> numPulse</span><br><span class="line">    BUFFER_SIZE = <span class="number">20</span></span><br><span class="line">    rows, cols = <span class="number">2</span>, BUFFER_SIZE</span><br><span class="line">    mem_data = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line">    numPulse = <span class="number">0</span></span><br><span class="line">    pos = <span class="number">0</span>    </span><br><span class="line">    oled.fill(<span class="number">0</span>)  <span class="comment">#清空屏幕    </span></span><br><span class="line">    oled.text(<span class="string">&quot;Geiger Counter&quot;</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>)  <span class="comment">#显示字符串</span></span><br><span class="line">    oled.show()  <span class="comment">#执行显示</span></span><br><span class="line">    </span><br><span class="line">    ble = ESP32_BLE(<span class="string">&quot;Geiger_Counter&quot;</span>)    </span><br><span class="line">    </span><br><span class="line">    Geiger_In.irq(Geiger_In_irq,Pin.IRQ_FALLING)  <span class="comment">#配置外部中断，下降沿触发</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:  </span><br><span class="line">        time.sleep_ms(<span class="number">3000</span>)</span><br><span class="line">        mem_data[<span class="number">0</span>][pos] = time.ticks_ms()</span><br><span class="line">        mem_data[<span class="number">1</span>][pos] = numPulse</span><br><span class="line">        numPulse = <span class="number">0</span></span><br><span class="line">        cpm=<span class="number">0</span></span><br><span class="line">        pos_old = pos</span><br><span class="line">        pos = (pos+<span class="number">1</span>)%BUFFER_SIZE        </span><br><span class="line">        numAll = <span class="number">0</span></span><br><span class="line">        uSvh = <span class="number">0</span></span><br><span class="line">        time_now = mem_data[<span class="number">0</span>][pos_old] </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, BUFFER_SIZE - <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> mem_data[<span class="number">0</span>][pos_old] != <span class="number">0</span>:</span><br><span class="line">                numAll = numAll + mem_data[<span class="number">1</span>][pos_old]</span><br><span class="line">                time_old = mem_data[<span class="number">0</span>][pos_old]</span><br><span class="line">                <span class="keyword">if</span> pos_old == <span class="number">0</span>:</span><br><span class="line">                    pos_old =  BUFFER_SIZE - <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    pos_old = pos_old - <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> time_now-time_old &gt; <span class="number">0</span>:</span><br><span class="line">            cpm = numAll*<span class="number">1000</span>*<span class="number">60</span>/(time_now-time_old)</span><br><span class="line">            uSvh = cpm/<span class="number">151</span></span><br><span class="line">            </span><br><span class="line">        str1 = <span class="string">&quot;&#123;:.0f&#125;&quot;</span>.<span class="built_in">format</span>(cpm)    <span class="comment">#CPM转字符串</span></span><br><span class="line">        str2 = <span class="string">&quot;&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(uSvh)   <span class="comment">#uSv/h转字符串</span></span><br><span class="line">        oled.fill(<span class="number">0</span>)  <span class="comment">#清空屏幕</span></span><br><span class="line">        oled.text(<span class="string">&quot;Geiger Counter&quot;</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>)  <span class="comment">#显示字符串</span></span><br><span class="line">        oled.text(<span class="string">&quot;CPM&quot;</span>,<span class="number">80</span>,<span class="number">10</span>,<span class="number">2</span>)  <span class="comment">#显示CPM单位</span></span><br><span class="line">        oled.text(<span class="string">&quot;uSv/h&quot;</span>,<span class="number">80</span>,<span class="number">20</span>,<span class="number">2</span>)  <span class="comment">#显示uSv/h单位</span></span><br><span class="line">        oled.text(str1,<span class="number">0</span>,<span class="number">10</span>,<span class="number">2</span>)  <span class="comment">#显示CPM数据</span></span><br><span class="line">        oled.text(str2,<span class="number">0</span>,<span class="number">20</span>,<span class="number">2</span>)  <span class="comment">#显示uSv/h数据</span></span><br><span class="line">        oled.show()  <span class="comment">#执行显示</span></span><br><span class="line">        str3 = str1+<span class="string">&#x27; CPM  &#x27;</span>+str2+<span class="string">&#x27; uSv/h&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(str3)</span><br></pre></td></tr></table></figure>

<p>Run: Upload to ESP32. Use BLE debugger app on phone, connect to “Geiger_Counter”, select Unknown Service to receive data.</p>
<p> Adding Bluetooth expanded my knowledge of short-range wireless protocols. Managing BLE services and notifications challenged me to optimize power and data transfer.</p>
<h2 id="Conclusion-and-Reflections"><a href="#Conclusion-and-Reflections" class="headerlink" title="Conclusion and Reflections"></a>Conclusion and Reflections</h2><p>This project transformed a simple sensor module into a versatile radiation monitoring system, showcasing my ability to integrate hardware, software, and wireless technologies. Key learnings include interrupt-driven programming, data buffering for accuracy, and network integration. Challenges like voltage calibration and code optimization built my resilience and technical depth.</p>
<p>© 2024 [Minkai Shi]. Original content from EEPW forum. Hosted on GitHub.</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/EEPW-EEWorld-Activity/" rel="tag"># EEPW & EEWorld Activity</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/07/02/Cleaning-of-the-Sailor-14K/" rel="prev" title="Cleaning of the Sailor 14K Four Seasons Weaving Dyeing Pen Rod">
      <i class="fa fa-chevron-left"></i> Cleaning of the Sailor 14K Four Seasons Weaving Dyeing Pen Rod
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/08/30/IC-SummerSchool/" rel="next" title="My Experience of Imperial College Summer School">
      My Experience of Imperial College Summer School <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC81OTUyNS8zNTk4Nw=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#DFRobot-Geiger-Counter-Project-Exploring-Radiation-Detection-with-Microcontrollers"><span class="nav-number">1.</span> <span class="nav-text">DFRobot Geiger Counter Project: Exploring Radiation Detection with Microcontrollers</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">1.1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Table-of-Contents"><span class="nav-number">1.2.</span> <span class="nav-text">Table of Contents</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unboxing-Experience"><span class="nav-number">1.3.</span> <span class="nav-text">Unboxing Experience</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#History-of-Geiger-Counters"><span class="nav-number">1.4.</span> <span class="nav-text">History of Geiger Counters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Connecting-to-ESP32-and-Debugging"><span class="nav-number">1.5.</span> <span class="nav-text">Connecting to ESP32 and Debugging</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Measuring-Data"><span class="nav-number">1.6.</span> <span class="nav-text">Measuring Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MicroPython-Implementation"><span class="nav-number">1.7.</span> <span class="nav-text">MicroPython Implementation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Measuring-Radiation-and-Displaying-via-WiFi"><span class="nav-number">1.8.</span> <span class="nav-text">Measuring Radiation and Displaying via WiFi</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MicroPython-with-Bluetooth-Connection"><span class="nav-number">1.9.</span> <span class="nav-text">MicroPython with Bluetooth Connection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion-and-Reflections"><span class="nav-number">1.10.</span> <span class="nav-text">Conclusion and Reflections</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Minkai Shi"
      src="/upload/touxiang.jpg">
  <p class="site-author-name" itemprop="name">Minkai Shi</p>
  <div class="site-description" itemprop="description">Study</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">16</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Minkai Shi</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>

</body>
</html>
